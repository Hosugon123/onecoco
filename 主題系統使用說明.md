# 一口口麻辣串記帳系統 - 主題系統使用說明

## 📋 概述

我已經為您的系統創建了統一的主題管理系統，讓您以後只需要修改一個地方就能影響整個系統的外觀。

## 🗂️ 文件結構

```
onecoco/
├── static/
│   ├── css/
│   │   └── global-theme.css          # 全局主題樣式
│   └── js/
│       └── global-theme.js           # 全局主題JavaScript
├── templates/
│   ├── base/
│   │   └── base.html                 # 基礎模板
│   └── dashboard/
│       └── sales_management_unified.html  # 使用新模板的記帳管理頁面
```

## 🎨 主題系統特點

### 1. 統一設計風格
- **深色主題配色**：深藍黑色系 (#0f0f23, #1a1a2e, #16213e)
- **強調色**：紫色 (#6366f1) 和藍色 (#3b82f6)
- **文字顏色**：淺灰白色 (#e8e8e8)
- **邊框效果**：2px 邊框 + 雙重陰影 + 發光效果

### 2. 響應式設計
- 支持桌面和移動設備
- 自適應布局
- 觸控友好的按鈕大小

### 3. 主題切換功能
- 右上角固定主題切換按鈕
- 自動保存用戶選擇
- 即時切換無需刷新

## 🚀 如何使用

### 方法一：使用新的統一模板

1. **創建新頁面**：
```html
{% extends 'base/base.html' %}
{% load static %}

{% block title %}您的頁面標題 - 一口口麻辣串記帳系統{% endblock %}

{% block page_css %}
/* 頁面特定樣式 */
.your-custom-style {
    /* 您的樣式 */
}
{% endblock %}

{% block page_header %}
<div class="page-header">
    <h2>📊 您的頁面標題</h2>
</div>
{% endblock %}

{% block content %}
<!-- 您的頁面內容 -->
<div class="card">
    <h3>內容標題</h3>
    <p>您的內容...</p>
</div>
{% endblock %}

{% block page_js %}
// 您的頁面特定JavaScript
console.log('頁面載入完成');
{% endblock %}
```

### 方法二：修改現有頁面

1. **替換CSS引用**：
```html
<!-- 舊的 -->
<style>
/* 大量重複的樣式 */
</style>

<!-- 新的 -->
<link rel="stylesheet" href="{% load static %}{% static 'css/global-theme.css' %}">
<style>
/* 只保留頁面特定的樣式 */
</style>
```

2. **替換JavaScript**：
```html
<!-- 舊的 -->
<script>
// 重複的主題切換代碼
</script>

<!-- 新的 -->
<script src="{% load static %}{% static 'js/global-theme.js' %}"></script>
<script>
// 只保留頁面特定的JavaScript
</script>
```

## 🎯 主要功能

### 1. 主題切換
```javascript
// 自動處理，無需手動調用
// 按鈕會自動出現在每個頁面
```

### 2. 工具函數
```javascript
// 格式化金額
Utils.formatCurrency(1000); // $1,000.00

// 顯示消息
Utils.showMessage('操作成功！', 'success');

// 確認對話框
Utils.confirm('確定要刪除嗎？', function() {
    // 確認後的操作
});

// 表格篩選
TableUtils.filterTable('searchInput', 'dataTable');

// 模態框操作
ModalUtils.showModal('myModal');
ModalUtils.hideModal('myModal');
```

### 3. 表單驗證
```javascript
// 驗證表單
if (FormUtils.validateForm('myForm')) {
    // 表單有效
}

// 重置表單
FormUtils.resetForm('myForm');
```

## 🎨 自定義主題

### 修改顏色主題
編輯 `static/css/global-theme.css` 中的CSS變數：

```css
[data-theme="dark"] {
    --bg-primary: #0f0f23;        /* 主背景色 */
    --bg-secondary: #1a1a2e;      /* 次背景色 */
    --bg-card: #16213e;           /* 卡片背景色 */
    --text-primary: #e8e8e8;      /* 主要文字色 */
    --accent-purple: #6366f1;     /* 紫色強調色 */
    --accent-blue: #3b82f6;       /* 藍色強調色 */
}
```

### 添加新的主題
```css
[data-theme="custom"] {
    --bg-primary: #your-color;
    --bg-secondary: #your-color;
    /* 其他變數... */
}
```

## 📱 響應式斷點

```css
/* 移動設備 */
@media (max-width: 768px) {
    /* 移動設備樣式 */
}

/* 平板設備 */
@media (max-width: 1024px) {
    /* 平板設備樣式 */
}
```

## 🔧 維護指南

### 1. 添加新頁面
- 使用 `base.html` 作為基礎模板
- 在 `{% block page_css %}` 中添加頁面特定樣式
- 在 `{% block page_js %}` 中添加頁面特定JavaScript

### 2. 修改全局樣式
- 編輯 `static/css/global-theme.css`
- 所有頁面會自動更新

### 3. 添加新功能
- 在 `static/js/global-theme.js` 中添加工具函數
- 使用 `window.Utils` 命名空間

## 📋 已完成的頁面

✅ **記帳管理頁面** (`sales_management_unified.html`)
- 使用新的統一模板
- 完整的深色主題支持
- 響應式設計
- 統一的UI組件

## 🎯 下一步建議

1. **逐步遷移現有頁面**：
   - 從最重要的頁面開始
   - 使用 `sales_management_unified.html` 作為參考

2. **測試主題切換**：
   - 確保所有頁面都能正確切換主題
   - 檢查深色主題下的可讀性

3. **優化用戶體驗**：
   - 添加載入動畫
   - 優化移動設備體驗

## 🆘 常見問題

### Q: 如何添加新的CSS類？
A: 在 `static/css/global-theme.css` 中添加，或在頁面的 `{% block page_css %}` 中添加。

### Q: 如何修改導航欄？
A: 編輯 `templates/base/base.html` 中的導航欄部分。

### Q: 如何添加新的JavaScript功能？
A: 在 `static/js/global-theme.js` 中添加，或使用 `window.Utils` 命名空間。

### Q: 主題切換不工作怎麼辦？
A: 確保 `static/js/global-theme.js` 正確載入，並檢查瀏覽器控制台是否有錯誤。

---

🎉 **恭喜！** 您現在擁有一個統一、可維護的主題系統。以後只需要修改幾個文件就能改變整個系統的外觀！
